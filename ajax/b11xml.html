<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
   
    <title>Document</title>
<script>
function descargaArchivo() {
  // Obtener la instancia del objeto XMLHttpRequest
  if(window.XMLHttpRequest) {
     peticionHttp = new XMLHttpRequest();
  }
  else if(window.ActiveXObject) {
    peticionHttp = new ActiveXObject("Microsoft.XMLHTTP");
  }
  // Preparar la funcion de respuesta
  peticionHttp.onreadystatechange = muestraContenido;
  // Realizar peticion HTTP
  peticionHttp.open('GET', './coches.xml', true);
  peticionHttp.send(null);
  function muestraContenido() {
    if(peticionHttp.readyState == 4) {
      if(peticionHttp.status == 200) {
        //Creamos el objeto de tipo documento XML
        var documentoXml = peticionHttp.responseXML;
        marcas=document.getElementById("marcas");
        modelos=document.getElementById("modelos");
        //Obtenemos la ra√≠z del documento
        var root = documentoXml.getElementsByTagName("coches")[0];
        var tope = root.getElementsByTagName("marca").length;
        //Recorremos todos los elementos Libro del documento
        for(var i = 0; i < tope; i++){ 
          marca=root.getElementsByTagName("marca")[i];
          nombre=marca.getAttribute("nombre");

          crearLista(marcas,nombre);
          /*libro = root.getElementsByTagName("Libro")[i]; 
          autor = libro.getElementsByTagName("Autor")[0].firstChild.nodeValue;
          titulo = libro.getElementsByTagName("Titulo")[0].firstChild.nodeValue;*/
        }
      }
    }
  }
  function crearLista(padre,texto){
    opcion = document.createElement("option");
    opcion.setAttribute("value",texto);
    textoMarca = document.createTextNode(texto);
    opcion.appendChild(textoMarca);
    padre.appendChild(opcion);
  }
   
  
}
window.onload =function(){

  descargaArchivo();
  var indice=marcas.selectIndex;
  alert("valor de indice: "+indice)
  marcaSeleccionada=marcas.options[indice];
  var textoSeleccionado = marcaSeleccionada.text;
  alert("Has seleccionado: "+textoSeleccionado);
} 
</script>

</head>
<body>
    <select id="marcas" name="marcas"></select>
    <select id="modelos" name="modelos"></select>

</body>
</html>